\chapter{Analysis and Design}
\label{chap:analysis}

\section{Requirements} 
Load models created in CPN Tools
	Achieved with Access/CPN
	.cpn files are XML formatted

Annotate model with pragmatics
	Validation

Load sets of pragmatics to add to model

Create model specific pragmatics on the fly

\section{Test cases}

(NYI, trenger eksempler)
Simple protocol
Kao-chow


\section{Defining Pragmatics}




\section{The CPN model type for ePNK}


\section{Importing from CPN Tools}
(Burde vært under Implementation?)
Access/CPN uses many of the same class names as ePNK, making code difficult to
read due to the need to write fully qualified classpaths.
Does not parse graphics data.
Large dependency for small feature.
Consider rewriting importer to directly create ePNK objects

\section{Creating annotations}
Labels on nodes (and arcs?) and inscriptions and everything. 
Choose from list. Possibly write freehand with content assist. Validation, with
problem markers (Eclipse feature).

\section{Choosing Pragmatics Sets}
Where to store? Model, Project, Plugin
Model pros:
	Will need anyway for model-specific pragmatics
	Could be associated with net type as a property (like HLPNG does) or as a sub
	node somewhere
	Have URI string and version to check.
cons:
	Keeping base pragmatics up to date a problem
Namespace-based? Already required for ontology


	\subsection{Creating custom pragmatics}
	Dynamically supported in content assist 
	If ontology-based, use SADL editor
	På sikt eget verktøy
		Hva kan det settes på, hvilke attributter har det.
		Oversette til ontologi

